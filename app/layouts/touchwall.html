<polymer-element name="workspace-layout-touchwall" extends="app-layout">
    <template>
        <app-globals id="globals"></app-globals>
        <style>
            #container {
                margin: 5px;
            }

            .widget {
                height: 100%;
                width: 100%;
            }

            .widgetDropzone {
                float: left;
                margin-right: 5px;
                margin-bottom: 5px;
                width: 350px;
                height: 200px;
                box-sizing: border-box;
                border: dashed 1px darkgray;
            }

            #mainWorkspace {
                width: calc(100% - 10px);
                height: 100%;
                overflow: auto;
            }
        </style>
        <div id="container">
            <div id="header"></div>
            <div class="widgetDropzone">
                <div class="widget" id="widget1"></div>
            </div>
            <div class="widgetDropzone">
                <div class="widget" id="widget2"></div>
            </div>
            <div class="widgetDropzone">
                <div class="widget" id="widget3"></div>
            </div>
            <div id="mainWorkspace"></div>
            <div id="footer"></div>
        </div>
    </template>
    <script>
        Polymer({
            ready: function () {
                console.log('workspace-layout touchwall is ready.');

                var thisDocument = this.shadowRoot;
                var dropzones = thisDocument.querySelectorAll('.widgetDropzone');
                var draggables = thisDocument.querySelectorAll('.widget');

                require(['core-dnd'], function (dnd) {
                    [].forEach.call(dropzones, function (dropzone) {
                        console.log('Activating dropzone');
                        dnd.makeDropZone(dropzone, '.widget');
                    });

                    [].forEach.call(draggables, function (draggable) {
                        console.log('Activating draggable');
                        dnd.makeDraggable(draggable);
                    });
                });

            }
        });
    </script>
</polymer-element>